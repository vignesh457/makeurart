"use strict";(self.webpackChunkartgallery=self.webpackChunkartgallery||[]).push([[21],{4021:function(e,t,r){r.r(t),r.d(t,{default:function(){return x}});var n=r(4942),a=r(4165),s=r(1413),o=r(5861),u=r(9439),c=r(2791),i="LoginBox_main__mm89O",p="LoginBox_authHeader__Vx-fw",l="LoginBox_authButton__k6ctZ",d=r(7689),m=r(951),h=r(9434),g=r(9002),f=r(184);var x=function(){var e=(0,c.useState)({username:"",password:""}),t=(0,u.Z)(e,2),r=t[0],x=t[1],y=(0,d.s0)(),b=(0,h.I0)(),v=function(){var e=(0,o.Z)((0,a.Z)().mark((function e(t){var n,o;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,fetch("https://makeurart-api.vercel.app/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});case 4:return n=e.sent,e.next=7,n.json();case 7:if(!1!==(o=e.sent).success){e.next=11;break}return b((0,g.br)({type:"error",message:o.message})),e.abrupt("return");case 11:b((0,g.br)({type:"success",message:"Successfully logged in"})),console.log(o),b((0,g.lx)((0,s.Z)({},o))),y("/"),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(1),b((0,g.br)({type:"error",message:"Oops! Something went wrong. Please try again later or contact support."})),console.log(e.t0);case 21:x({username:"",password:""});case 22:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(t){return e.apply(this,arguments)}}(),w=function(e){var t=e.target,a=t.name,o=t.value;x((0,s.Z)((0,s.Z)({},r),{},(0,n.Z)({},a,o)))};return(0,f.jsxs)("form",{onSubmit:v,className:i,children:[(0,f.jsx)("h2",{className:p,children:"Welcome to Nooks \ud83d\ude0a"}),(0,f.jsxs)("label",{htmlFor:"email",children:["Email *",(0,f.jsx)("input",{type:"email",name:"email",id:"email",placeholder:"youremail@example.com",autoComplete:"email",onChange:w,required:!0})]}),(0,f.jsxs)("label",{htmlFor:"password",children:["Password *",(0,f.jsx)("input",{type:"password",name:"password",id:"password",placeholder:"*****",autoComplete:"current-password",onChange:w,required:!0})]}),(0,f.jsx)("button",{className:l,type:"submit",children:"Log in"}),(0,f.jsx)(m.Z,{}),(0,f.jsxs)("p",{children:["Didn't have an account?  ",(0,f.jsx)("span",{style:{color:"#1976D2",cursor:"pointer"},onClick:function(){return y("/signup")},children:"Sign up"})]})]})}},951:function(e,t,r){var n=r(4165),a=r(1413),s=r(5861),o=(r(2791),r(801)),u=r(8742),c=r(7689),i=r(9434),p=r(9002),l=r(184),d={width:"100%",backgroundColor:"#CC2533",color:"#D8D8D8",border:"none",borderRadius:"5px",padding:"8px",fontWeight:"700",fontSize:"15px",cursor:"pointer"};t.Z=function(){var e=(0,c.s0)(),t=(0,i.I0)(),r=function(){var r=(0,s.Z)((0,n.Z)().mark((function r(){var s,c,i,l,d;return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,s=new o.hJ,c=(0,o.v0)(u.l),r.next=5,(0,o.rh)(c,s);case 5:return i=r.sent,r.next=8,fetch("https://makeurart-api.vercel.app/api/auth/google",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:i.user.displayName,email:i.user.email,password:i.user.uid,avatar:i.user.photoURL})});case 8:return l=r.sent,r.next=11,l.json();case 11:if(!1!==(d=r.sent).success){r.next=15;break}return console.log("couldn't authenticate using google : ",d.message),r.abrupt("return");case 15:t((0,p.lx)((0,a.Z)({},d))),"none"===d.usertype?e("/user-type"):e("/"),r.next=22;break;case 19:r.prev=19,r.t0=r.catch(0),console.log("Oops! Something went wrong. Please try again later or contact support : "+r.t0);case 22:case"end":return r.stop()}}),r,null,[[0,19]])})));return function(){return r.apply(this,arguments)}}();return(0,l.jsx)("button",{type:"button",style:d,onClick:r,children:"Continue with Google"})}},8742:function(e,t,r){r.d(t,{l:function(){return s}});var n=r(4702),a=r(276),s=(0,n.ZF)({apiKey:"AIzaSyB8WzUiha2EFT3V9JZYyklt8cYExBMs62I",authDomain:"nooks-e5d79.firebaseapp.com",projectId:"nooks-e5d79",storageBucket:"nooks-e5d79.appspot.com",messagingSenderId:"785309040198",appId:"1:785309040198:web:e0653336ca7f7da075d447",measurementId:"G-2M505Y6ZBL"});(0,a.cF)(s)}}]);
//# sourceMappingURL=21.db29b20d.chunk.js.map