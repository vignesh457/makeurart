"use strict";(self.webpackChunkartgallery=self.webpackChunkartgallery||[]).push([[21],{4021:function(e,n,t){t.r(n),t.d(n,{default:function(){return x}});var r=t(4942),a=t(4165),s=t(1413),o=t(5861),u=t(9439),c=t(2791),i="LoginBox_main__mm89O",l="LoginBox_authHeader__Vx-fw",p="LoginBox_authButton__k6ctZ",d=t(7689),m=t(951),h=t(9434),g=t(9002),f=t(184);var x=function(){var e=(0,c.useState)({username:"",password:""}),n=(0,u.Z)(e,2),t=n[0],x=n[1],y=(0,d.s0)(),b=(0,h.I0)(),w=function(){var e=(0,o.Z)((0,a.Z)().mark((function e(n){var r,o;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 4:return r=e.sent,e.next=7,r.json();case 7:if(!1!==(o=e.sent).success){e.next=11;break}return b((0,g.br)({type:"error",message:o.message})),e.abrupt("return");case 11:b((0,g.br)({type:"success",message:"Successfully logged in"})),console.log(o),b((0,g.lx)((0,s.Z)({},o))),y("/"),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(1),b((0,g.br)({type:"error",message:"Oops! Something went wrong. Please try again later or contact support."})),console.log(e.t0);case 21:x({username:"",password:""});case 22:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(n){return e.apply(this,arguments)}}(),v=function(e){var n=e.target,a=n.name,o=n.value;x((0,s.Z)((0,s.Z)({},t),{},(0,r.Z)({},a,o)))};return(0,f.jsxs)("form",{onSubmit:w,className:i,children:[(0,f.jsx)("h2",{className:l,children:"Welcome to Nooks \ud83d\ude0a"}),(0,f.jsxs)("label",{htmlFor:"email",children:["Email *",(0,f.jsx)("input",{type:"email",name:"email",id:"email",placeholder:"youremail@example.com",autoComplete:"email",onChange:v,required:!0})]}),(0,f.jsxs)("label",{htmlFor:"password",children:["Password *",(0,f.jsx)("input",{type:"password",name:"password",id:"password",placeholder:"*****",autoComplete:"current-password",onChange:v,required:!0})]}),(0,f.jsx)("button",{className:p,type:"submit",children:"Log in"}),(0,f.jsx)(m.Z,{}),(0,f.jsxs)("p",{children:["Didn't have an account?  ",(0,f.jsx)("span",{style:{color:"#1976D2",cursor:"pointer"},onClick:function(){return y("/signup")},children:"Sign up"})]})]})}},951:function(e,n,t){var r=t(4165),a=t(1413),s=t(5861),o=(t(2791),t(801)),u=t(8742),c=t(7689),i=t(9434),l=t(9002),p=t(184),d={width:"100%",backgroundColor:"#CC2533",color:"#D8D8D8",border:"none",borderRadius:"5px",padding:"8px",fontWeight:"700",fontSize:"15px",cursor:"pointer"};n.Z=function(){var e=(0,c.s0)(),n=(0,i.I0)(),t=function(){var t=(0,s.Z)((0,r.Z)().mark((function t(){var s,c,i,p,d;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,s=new o.hJ,c=(0,o.v0)(u.l),t.next=5,(0,o.rh)(c,s);case 5:return i=t.sent,t.next=8,fetch("/api/auth/google",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:i.user.displayName,email:i.user.email,password:i.user.uid,avatar:i.user.photoURL})});case 8:return p=t.sent,t.next=11,p.json();case 11:if(!1!==(d=t.sent).success){t.next=15;break}return console.log("couldn't authenticate using google : ",d.message),t.abrupt("return");case 15:n((0,l.lx)((0,a.Z)({},d))),"none"===d.usertype?e("/user-type"):e("/"),t.next=22;break;case 19:t.prev=19,t.t0=t.catch(0),console.log("Oops! Something went wrong. Please try again later or contact support : "+t.t0);case 22:case"end":return t.stop()}}),t,null,[[0,19]])})));return function(){return t.apply(this,arguments)}}();return(0,p.jsx)("button",{type:"button",style:d,onClick:t,children:"Continue with Google"})}},8742:function(e,n,t){t.d(n,{l:function(){return s}});var r=t(4702),a=t(276),s=(0,r.ZF)({apiKey:"AIzaSyB8WzUiha2EFT3V9JZYyklt8cYExBMs62I",authDomain:"nooks-e5d79.firebaseapp.com",projectId:"nooks-e5d79",storageBucket:"nooks-e5d79.appspot.com",messagingSenderId:"785309040198",appId:"1:785309040198:web:e0653336ca7f7da075d447",measurementId:"G-2M505Y6ZBL"});(0,a.cF)(s)}}]);
//# sourceMappingURL=21.eeb622b7.chunk.js.map