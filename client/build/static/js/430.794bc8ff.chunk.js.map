{"version":3,"file":"static/js/430.794bc8ff.chunk.js","mappings":"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","sources":["webpack://artgallery/./src/components/HomeGallery.module.css?ea7b","components/Post.jsx","components/HomeGallery.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"main\":\"HomeGallery_main__XiAbc\",\"postImgCtn\":\"HomeGallery_postImgCtn__6i8Oi\",\"isVisible\":\"HomeGallery_isVisible__UPnHP\",\"isLoading\":\"HomeGallery_isLoading__4Qm4P\",\"fading\":\"HomeGallery_fading__adOy1\",\"postImgLayer\":\"HomeGallery_postImgLayer__scqRB\",\"postImgLayerTextCtn\":\"HomeGallery_postImgLayerTextCtn__0r2Zs\",\"noPostHeading\":\"HomeGallery_noPostHeading__ldWJB\",\"loader\":\"HomeGallery_loader__ek2z2\",\"eyeMove\":\"HomeGallery_eyeMove__a5YH+\",\"blink\":\"HomeGallery_blink__EKnuq\"};","import React,{useState} from 'react'\r\nimport css from './HomeGallery.module.css'\r\nimport { useNavigate } from 'react-router-dom'\r\n\r\nconst Post = React.memo(({postPic, postDesc, postId})  =>{\r\n    const [imageLoaded, setImageLoaded] = useState(false)\r\n    const navigate = useNavigate()\r\n\r\n    return (\r\n        <img className={imageLoaded?css.isVisible:css.isLoading} onClick={()=>navigate(`/post/${postId}`)} onLoad={()=>setImageLoaded(true)} loading='lazy' src={postPic} alt={postDesc}/>\r\n    )\r\n})\r\n\r\nexport default Post","import React, { useEffect, useState } from 'react'\r\nimport css from './HomeGallery.module.css'\r\nimport { useNavigate, useParams } from 'react-router-dom';\r\nimport 'react-lazy-load-image-component/src/effects/blur.css';\r\nimport { useDispatch } from 'react-redux';\r\nimport { setAlert, setLoader } from '../Reducers/UserSlice';\r\nimport Post from './Post';\r\nimport { useMediaQuery } from 'react-responsive';\r\n\r\nconst HomeGallery = React.memo(() => {\r\n  const [posts, setPosts] = useState([]);\r\n  const [hover, setHover] = useState(null);\r\n  const params = useParams();\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n  const isMobile = useMediaQuery({maxWidth : 650});\r\n\r\n  const fetchPosts = async()=>{\r\n    try{\r\n      dispatch(setLoader(true))\r\n      const postData = await fetch(`/api/post/category/${params.id}`)\r\n      const res = await postData.json();\r\n      if(res.success===false){\r\n        throw new Error(res.message);\r\n      }\r\n      setPosts(res);\r\n      dispatch(setLoader(false))\r\n    }\r\n    catch(err){\r\n      dispatch(setLoader(false))\r\n      dispatch(setAlert({type: 'warning', message: \"Sorry, unable to load\"}))\r\n      navigate('/')\r\n      console.error(err);\r\n    }\r\n  }\r\n\r\n  useEffect(()=>{\r\n    fetchPosts()\r\n  },[params.id])\r\n\r\n  return (\r\n    <div className={css.main}>\r\n        {\r\n          posts.map((post)=>(\r\n              <div key={post._id} onMouseOver={()=>setHover(post._id)} onMouseLeave={()=>setHover(null)} className={css.postImgCtn}>\r\n                {\r\n                  !isMobile && hover==post._id &&\r\n                  <div className={css.postImgLayer} onClick={()=>navigate(`/post/${post._id}`)}>\r\n                    <div className={css.postImgLayerTextCtn}>\r\n                      <h3>{post.artBy}</h3>\r\n                      <p>{post.description}</p>\r\n                    </div>\r\n                  </div>\r\n                }\r\n                <Post postPic={post.postPic} postDesc={post.description} postId={post._id}/>\r\n               </div>\r\n          ))\r\n        }\r\n        {posts.length===0 &&<><h1 className={css.noPostHeading}><span className={css.loader}></span> No search results</h1></> }\r\n    </div>\r\n  )\r\n})\r\n\r\nexport default HomeGallery"],"names":["React","_ref","postPic","postDesc","postId","_useState","useState","_useState2","_slicedToArray","imageLoaded","setImageLoaded","navigate","useNavigate","_jsx","className","css","onClick","concat","onLoad","loading","src","alt","HomeGallery","posts","setPosts","_useState3","_useState4","hover","setHover","params","useParams","dispatch","useDispatch","isMobile","useMediaQuery","maxWidth","fetchPosts","_asyncToGenerator","_regeneratorRuntime","mark","_callee","postData","res","wrap","_context","prev","next","setLoader","fetch","id","sent","json","success","Error","message","t0","setAlert","type","console","error","stop","apply","arguments","useEffect","_jsxs","children","map","post","onMouseOver","_id","onMouseLeave","artBy","description","Post","length","_Fragment"],"sourceRoot":""}